package com.hudson.codes;//ç»™å®šä¸€ä¸ªåŒ…å«çº¢è‰²ã€ç™½è‰²å’Œè“è‰²ï¼Œä¸€å…± n ä¸ªå…ƒç´ çš„æ•°ç»„ï¼ŒåŸåœ°å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œä½¿å¾—ç›¸åŒé¢œè‰²çš„å…ƒç´ ç›¸é‚»ï¼Œå¹¶æŒ‰ç…§çº¢è‰²ã€ç™½è‰²ã€è“è‰²é¡ºåºæ’åˆ—ã€‚
//
// æ­¤é¢˜ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° 0ã€ 1 å’Œ 2 åˆ†åˆ«è¡¨ç¤ºçº¢è‰²ã€ç™½è‰²å’Œè“è‰²ã€‚ 
//
// 
//
// è¿›é˜¶ï¼š 
//
// 
// ä½ å¯ä»¥ä¸ä½¿ç”¨ä»£ç åº“ä¸­çš„æ’åºå‡½æ•°æ¥è§£å†³è¿™é“é¢˜å—ï¼Ÿ 
// ä½ èƒ½æƒ³å‡ºä¸€ä¸ªä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´çš„ä¸€è¶Ÿæ‰«æç®—æ³•å—ï¼Ÿ 
// 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [2,0,2,1,1,0]
//è¾“å‡ºï¼š[0,0,1,1,2,2]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [2,0,1]
//è¾“å‡ºï¼š[0,1,2]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [0]
//è¾“å‡ºï¼š[0]
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1]
//è¾“å‡ºï¼š[1]
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// n == nums.length 
// 1 <= n <= 300 
// nums[i] ä¸º 0ã€1 æˆ– 2 
// 
// Related Topics æ’åº æ•°ç»„ åŒæŒ‡é’ˆ 
// ğŸ‘ 732 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution75 {
    // æ„Ÿè§‰è¿™é“é¢˜å±äºéš¾é¢˜

    // å¾ˆç®€å•ï¼Œä½¿ç”¨å¿«æ’çš„æ€è·¯å¾ˆå¿«è§£å†³ï¼ˆå…¶å®ä»–å°±æ˜¯æ’åºé—®é¢˜ï¼‰
    // ä½†é¢˜ç›®è¦æ±‚ä¸èƒ½ä½¿ç”¨æ’åºå‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬æ€è€ƒåˆ«çš„æ–¹æ³•ï¼Œå¹¶ç©ºé—´O(1)æ—¶é—´O(n)
    // è¿˜æ˜¯åŒæŒ‡é’ˆï¼ŒP0å’ŒP1ï¼ŒP0è´Ÿè´£æ‰¾ç­‰äº0çš„å€¼ï¼ŒP1è´Ÿè´£æ‰¾åˆ°ç­‰äº1çš„å€¼
    // ä¸ºä»€ä¹ˆè¦è¿™æ ·ï¼Œè€Œä¸æ˜¯å¤´å°¾ä¸¤ä¸ªæ‰¾0å’Œ2å‘¢ï¼Ÿã€å…¶å®å¤´å°¾ä¹Ÿå¯ä»¥ã€‘
    // å› ä¸ºæˆ‘ä»¬ä¸€æ—¦ç¡®å®šP0çš„ä½ç½®æ˜¯0äº†ï¼Œé‚£ä¹ˆP0å¯ä»¥å¢åŠ 1ï¼Œç›¸åº”åœ°P1ä¹Ÿè¦å¢åŠ 1ï¼Œå› ä¸º
    // 1ä¸èƒ½æ”¾åˆ°P0ä¹‹å‰çš„ä½ç½®;
    // ç›´åˆ°p1> p0çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªç§»åŠ¨P1
    //p0æè¿°0çš„å³è¾¹ç•Œ,p1æè¿°1çš„å³è¾¹ç•Œ
    //
    //2   0   2   1   1   0   1   0
    //p0
    //p1
    //
    //0   2   2   1   1   0   1   0
    //    p0
    //	p1
    //
    //0   1   2   2   1   0   1   0
    //    p0  p1
    //
    //0   1   1   2   2   0   1   0
    //    p0      p1
    //0   0   1   2   2   1   1   0
    //        p0  p1     (p1>p0,è€Œäº¤æ¢äº†0ï¼Œå¿…ç„¶æŠŠp1æ¢è¿‡çš„ä½ç½®äº¤æ¢äº†ï¼Œå› æ­¤æŠŠp1ä¸è¯¥ä½ç½®äº¤æ¢)
    //
    //0   0   1   1   2   2   1   0
    //		  p0      p1
    // ä¸ºä»€ä¹ˆåªè€ƒè™‘0å’Œ1çš„å³è¾¹ç•Œï¼Œå› ä¸ºæ˜¯æ•°ç»„ï¼Œå¦‚æœè€ƒè™‘å·¦è¾¹ç•Œçš„è¯ï¼Œæ˜¯æ²¡æ³•å¾€æ•°ç»„ä¸­æ’å…¥æŸä¸ªæ•°å¹¶åç§»çš„
    public static void sortColors(int[] nums) {
        if(nums == null || nums.length == 0) return ;
        int p0 = 0;
        int p1 = p0;
        for (int i = 0; i < nums.length; i++) {
            if(nums[i] == 0){
                // é‚£ä¹ˆï¼Œè¯¥ä½ç½®å¯ä»¥ä¸p0äº¤æ¢
                swap(nums, i, p0);
                // å¦‚æœp0è¦äº¤æ¢çš„æ—¶å€™ï¼Œp1å·²ç»è·‘åœ¨å‰é¢äº†ï¼Œé‚£ä¹ˆp0çš„ä½ç½®ä¸€å®šæ˜¯1ï¼Œå³p1å·²ç»æ¢è¿‡çš„ä½ç½®ï¼Œ
                // å› æ­¤1ä¼šè¢«æ¢åˆ°içš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥éœ€è¦æŠŠ1æ¢åˆ°p1ç°åœ¨çš„ä½ç½®ï¼Œå¹¶p1è¦å¢åŠ 1
                if(p0 < p1){
                    swap(nums, p1, i);
                    p1++;
                }
                p0 ++;
                if(p0 > p1) p1 = p0;// p1ä¸å¯èƒ½å°äºp0
            }else if(nums[i] == 1){
                // é‚£ä¹ˆè¯¥ä½ç½®å¯ä»¥ä¸p1äº¤æ¢
                swap(nums, i, p1);
                p1 ++;
            }
        }
    }

    // time 100%, ç©ºé—´ 85.32%
    // å¤´å°¾çš„æ–¹å¼ï¼Œç¡®ä¿p0çš„ä½ç½®ä¸æ˜¯0ï¼Œ p2çš„ä½ç½®ä¸æ˜¯2ï¼Œç„¶åäº¤æ¢
    // p0ä»å¤´å¾€åæ‰«è¿‡çš„å’Œp2ä»å°¾å¾€å‰æ‰«è¿‡çš„éƒ¨åˆ†ä¸éœ€è¦éå†
    //1   0    2   1    1   0
    //p0                    p2
    //0   1    2   1    1   0
    //    p0                p2
    //0   1    0   1    1   2
    //    p0            p2
    //
    //0   0    1   1    1   2
    //        p0        p2
    public static void sortColors2(int[] nums){
        int p0 = 0;
        int p2 = nums.length - 1;
        while (p2 >= 0 && nums[p2] == 2){
            p2--;
        }
        if(p2 < 0) return ;
        while (p0 < nums.length && nums[p0] == 0){
            p0++;
        }
        if(p0 >= nums.length) return;
        if(p0 >= p2) return ;
//        while(p0 < p2){
//
//        }
        for (int i = p0; i < nums.length; i++) {
            if(nums[i] == 0){
                // æŠŠå®ƒä¸p0ä½ç½®äº¤æ¢
                swap(nums, p0, i);
                // ç”±äºi >= p0ï¼Œè€Œp0çš„ä½ç½®ä¸å¯èƒ½æ˜¯2ï¼Œå› ä¸ºå·²ç»éå†è¿‡äº†ï¼Œå› æ­¤ä¸éœ€è¦åˆ¤æ–­äº¤æ¢ånums[i]ä¸º2çš„æƒ…å†µ
                // å½“ç„¶æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¾‹å¦‚ 2 1 2
                if(nums[i] == 2){
                    swap(nums, p2, i);
                    p2 --;
                }
                p0++;
                // ç¡®ä¿p0ä½ç½®ä¸æ˜¯0
                while(p0 < nums.length && nums[p0] == 0){
                    p0 ++;
                }
            }else if(nums[i] == 2){
                // æŠŠå®ƒä¸p2ä½ç½®äº¤æ¢
                swap(nums, p2, i);
                // å¦‚æœäº¤æ¢åï¼Œnums[i]æ˜¯0é‚£ä¹ˆè¿˜éœ€è¦æŠŠå®ƒè·Ÿp0äº¤æ¢ï¼Œå› ä¸ºæˆ‘ä»¬èƒ½ç¡®ä¿iä¹‹å‰æ²¡æœ‰0å†å‡ºç°äº†
                if(nums[i] == 0){
                    swap(nums, p0, i);
                    p0++;
                }
                p2--;
                // ç¡®ä¿p2çš„ä½ç½®ä¸æ˜¯2
                while(p2 >= 0 && nums[p2] == 2){
                    p2--;
                }
            }
            // å¦‚æœi>=p2äº†ï¼Œå°±ä¸éœ€è¦å†è¿›è¡Œ
            if(i >= p2) break;
        }
    }

    private static void swap(int[] nums, int first, int second){
        if (first == second) return ;
        int tmp = nums[first];
        nums[first] = nums[second];
        nums[second] = tmp;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
